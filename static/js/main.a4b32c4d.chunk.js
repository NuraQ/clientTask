(this.webpackJsonpclientask=this.webpackJsonpclientask||[]).push([[0],{16:function(e,t,o){},17:function(e,t,o){},18:function(e,t,o){},19:function(e,t,o){"use strict";o.r(t);var n={};o.r(n),o.d(n,"setPoly",(function(){return g})),o.d(n,"changeColorForPoly",(function(){return p})),o.d(n,"addColorForPoly",(function(){return j})),o.d(n,"addNameForPoly",(function(){return y})),o.d(n,"changeNameForPoly",(function(){return O})),o.d(n,"addNewPoly",(function(){return f}));var a=o(1),l=o(0),r=o.n(l),i=o(5),c=o.n(i),s=(o(16),o.p,o(17),o(4)),d=o(3),u=o(6),h=o(10),g=function(e,t){e.setState({hoveredPoly:t})},p=function(e,t,o){var n=Object(s.a)(e.state.polygonsColors);n[t]=o,e.setState({polygonsColors:n})},j=function(e,t){var o=[].concat(Object(s.a)(e.state.polygonsColors),[t]);e.setState({polygonsColors:o})},y=function(e,t){var o=[].concat(Object(s.a)(e.state.polygonsNames),[t]);e.setState({polygonsNames:o})},O=function(e,t,o){var n=Object(s.a)(e.state.polygonsNames);n[t]=o,e.setState({polygonsNames:n})},f=function(e,t){e.setState({polygonAddedToMap:t}),console.log(e.state.polygonAddedToMap)},b=Object(h.a)(r.a,{hoveredPoly:0,polygonsColors:[],polygonsNames:[],polygonAddedToMap:null},n),m=["drawing"],v={width:"700px",height:"700px"},C=function(e){var t=b(),o=Object(d.a)(t,2),n=o[0],i=o[1],c=Object(l.useState)(null),h=Object(d.a)(c,2),g=h[0],p=h[1],j={lat:-73.9130656659264,lng:40.55849125972},y=Object(u.e)({id:"google-map-script",googleMapsApiKey:"AIzaSyDeL9AfH6JB5TdYWWVH4WRoVmti-zFHM_g",libraries:m}).isLoaded,O=r.a.useState(null),f=Object(d.a)(O,2),C=(f[0],f[1]),S=r.a.useState([]),x=Object(d.a)(S,2),P=x[0],k=x[1],B=r.a.useState([[]]),M=Object(d.a)(B,2),L=(M[0],M[1]),D=r.a.useCallback((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),C(e)}),[]),T=r.a.useCallback((function(e){C(null)}),[]),G=[[]],w=0;function A(t){e.mapper(this.polygonKey,!0);var o=t.latLng;j={location:o},p({location:o,key:this.polygonKey}),this.setOptions({fillColor:"Blue"})}function F(t){e.mapper(this.polygonKey,!1),p(null),this.setOptions({fillColor:n.polygonsColors[this.polygonKey]})}var E=[],N=Object(l.useCallback)((function(e){E.push(e),k(E)}),[]);Object(l.useEffect)((function(){!function(){var e=n.hoveredPoly;null!=P[e-1]&&(P[e-1].setOptions({fillColor:"Blue"}),C(P[e-1]))}()}),[n.hoveredPoly,E,n.polygonsColors]);var R=function(e){G.push(e.getPath().getArray()),G=[].concat(Object(s.a)(G),[e.getPath().getArray()]),L(G),i.addNewPoly({OBJECTID:E.length,Shape__Area:332,Shape__Length:3232})};return y?Object(a.jsxs)(u.b,{mapContainerStyle:v,center:j,zoom:10,onLoad:D,onUnmount:T,children:[g?Object(a.jsx)(u.c,{position:g.location,children:Object(a.jsx)("div",{style:{backgroundColor:"white",opacity:.75,padding:12},children:Object(a.jsx)("div",{style:{fontSize:16,fontColor:"#08233B"},children:n.polygonsNames[g.key]})})}):Object(a.jsx)("div",{}),Object(a.jsx)(u.a,{drawingControl:!0,onPolygonComplete:R,onRectangleComplete:R,onPolylineComplete:R}),void e.pos.map((function(e){G[w]=[],e.geometry.coordinates.map((function(e){for(var t=0;t<e.length;t++)G[w].push({lat:parseFloat(e[t][0]),lng:parseFloat(e[t][1])})})),w+=1})),G.slice(0,10).map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(u.d,{path:e,onMouseOver:A,onMouseOut:F,onUnmount:T,onLoad:N,clickable:!1,options:{polygonKey:G.indexOf(e)+1,strokeColor:n.polygonsColors[G.indexOf(e)+1],strokeOpacity:.8,strokeWeight:2,fillColor:n.polygonsColors[G.indexOf(e)+1],fillOpacity:.35,draggable:!0,geodesic:!0}},G.indexOf(e)+1)})}))]}):Object(a.jsx)(a.Fragment,{})};o(18);var S=function(e){var t=Object(l.useRef)(null),o=b(),n=Object(d.a)(o,2),r=n[0],i=n[1],c=e.properties.map((function(e,t){return Object(a.jsxs)("tr",{onMouseOver:function(){var t;t=e.OBJECTID,i.setPoly(t)},id:e.OBJECTID,children:[Object(a.jsx)("td",{children:e.OBJECTID}),Object(a.jsx)("td",{children:e.Shape__Area}),Object(a.jsx)("td",{children:e.Shape__Length}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{defaultValue:r.polygonsColors[e.OBJECTID],id:e.OBJECTID,onChange:s})}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{defaultValue:r.polygonsNames[e.OBJECTID],id:e.OBJECTID,onChange:u})})]},e.OBJECTID)}));function s(e){t.current={val:e.target.value,id:e.target.id}}function u(e){i.changeNameForPoly(e.target.id,e.target.value)}return Object(l.useEffect)((function(){null!=t.current&&i.changeColorForPoly(t.current.id,t.current.val)}),[t.current]),Object(a.jsx)("div",{children:Object(a.jsxs)("table",{children:[Object(a.jsxs)("tr",{className:"Header",children:[Object(a.jsx)("th",{children:"ID"}),Object(a.jsx)("th",{children:"shape area"}),Object(a.jsx)("th",{children:"shape Length"}),Object(a.jsx)("th",{children:"shape Color"}),Object(a.jsx)("th",{children:"shape name"})]}),Object(a.jsx)("tbody",{children:c})]})})};function x(){var e=r.a.useState([]),t=Object(d.a)(e,2),o=t[0],n=t[1],i=r.a.useState([]),c=Object(d.a)(i,2),u=c[0],h=c[1],g=b(),p=Object(d.a)(g,2),j=p[0],y=p[1],O=["AliceBlue","Aqua","Aquamarine","BlanchedAlmond","BlueViolet","Brown","BurlyWood","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","Gold","GoldenRod","Green","HotPink","IndianRed","Indigo","Ivory","Khaki","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MistyRose","Moccasin","NavajoWhite","Navy","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","SkyBlue","SlateBlue","SlateGray","SlateGrey","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","Yellow","YellowGreen"],f=["Bruce","Cook","Carolyn","Morgan","Albert","Walker","Randy","Reed","Larry","Barnes","Lois","Wilson","Jesse","Campbell","Ernest","Rogers","Theresa","Patterson","Henry","Simmons","Michelle","Perry","Frank","Butler","Shirley"];return Object(l.useEffect)((function(){fetch("https://services5.arcgis.com/GfwWNkhOj9bNBqoJ/arcgis/rest/services/NYC_Election_Districts_Water_Included/FeatureServer/0/query?where=1=1&outFields=*&outSR=4326&f=pgeojson",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){e.ok&&e.json().then((function(e){n(e.features)}))}))}),[]),Object(l.useEffect)((function(){!function(){y.addColorForPoly();var e=[];o.forEach((function(t){e.push(t.properties);var o=O[Math.floor(Math.random()*O.length)],n=f[Math.floor(Math.random()*f.length)];y.addColorForPoly(o),y.addNameForPoly(n)})),h(e)}()}),[o]),Object(l.useEffect)((function(){!function(){if(null!=j.PolygonAddedToMap){var e=[].concat(Object(s.a)(u),[[j.PolygonAddedToMap]]),t=O[Math.floor(Math.random()*O.length)];y.addColorForPoly(t),h(e)}}()}),[j.polygonAddedToMap]),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(C,{pos:o,mapper:function(e,t){!function(e,t){var o=document.getElementById(e);o.style,o.style=t?"background-color: blanchedalmond":"background-color: `${sty}`"}(e,t)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(S,{properties:u})})]})})}var P=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{children:Object(a.jsx)(x,{})})})},k=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,20)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,l=t.getLCP,r=t.getTTFB;o(e),n(e),a(e),l(e),r(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),k()}},[[19,1,2]]]);
//# sourceMappingURL=main.a4b32c4d.chunk.js.map